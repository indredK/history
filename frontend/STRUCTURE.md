# å‰ç«¯ä»£ç ç»“æ„è¯´æ˜

## ğŸ“ ç›®å½•ç»“æ„

```
frontend/src/
â”œâ”€â”€ api/                    # API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ client.ts          # Axios é…ç½®å’Œ API æ–¹æ³•
â”‚   â””â”€â”€ index.ts           # ç»Ÿä¸€å¯¼å‡º
â”‚
â”œâ”€â”€ assets/                # é™æ€èµ„æº
â”‚   â””â”€â”€ images/
â”‚       â””â”€â”€ dynasties/     # æœä»£å›¾ç‰‡èµ„æº
â”‚
â”œâ”€â”€ components/            # é€šç”¨ç»„ä»¶
â”‚   â””â”€â”€ ui/               # UI ç»„ä»¶åº“
â”‚       â”œâ”€â”€ YearSettingsPopover.tsx
â”‚       â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ config/               # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ env.ts           # ç¯å¢ƒå˜é‡é…ç½®
â”‚
â”œâ”€â”€ features/            # åŠŸèƒ½æ¨¡å—ï¼ˆæŒ‰ä¸šåŠ¡åˆ’åˆ†ï¼‰
â”‚   â”œâ”€â”€ events/         # äº‹ä»¶åŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ components/ # äº‹ä»¶ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/      # äº‹ä»¶ç›¸å…³ hooks
â”‚   â”‚   â”œâ”€â”€ utils/      # äº‹ä»¶å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ EventList.tsx
â”‚   â”‚   â””â”€â”€ EventList.css
â”‚   â”‚
â”‚   â”œâ”€â”€ map/           # åœ°å›¾åŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ MapView.tsx
â”‚   â”‚   â””â”€â”€ MapView.css
â”‚   â”‚
â”‚   â””â”€â”€ timeline/      # æ—¶é—´è½´åŠŸèƒ½
â”‚       â”œâ”€â”€ Timeline.tsx
â”‚       â””â”€â”€ Timeline.css
â”‚
â”œâ”€â”€ hooks/             # å…¨å±€å…±äº« hooks
â”‚   â””â”€â”€ useDynastyImage.ts
â”‚
â”œâ”€â”€ layouts/           # é¡µé¢å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ Sidebar.tsx   # ä¾§è¾¹æ 
â”‚   â”œâ”€â”€ MainContent.tsx # ä¸»å†…å®¹åŒº
â”‚   â”œâ”€â”€ Footer.tsx    # é¡µè„š
â”‚   â””â”€â”€ index.ts      # ç»Ÿä¸€å¯¼å‡º
â”‚
â”œâ”€â”€ services/         # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”œâ”€â”€ __tests__/   # æœåŠ¡æµ‹è¯•
â”‚   â”œâ”€â”€ dataClient.ts # æ•°æ®å®¢æˆ·ç«¯
â”‚   â””â”€â”€ mockProvider.ts # Mock æ•°æ®æä¾›è€…
â”‚
â”œâ”€â”€ store/           # çŠ¶æ€ç®¡ç†ï¼ˆæŒ‰åŠŸèƒ½æ‹†åˆ†ï¼‰
â”‚   â”œâ”€â”€ dynastyStore.ts  # æœä»£çŠ¶æ€
â”‚   â”œâ”€â”€ eventsStore.ts   # äº‹ä»¶çŠ¶æ€
â”‚   â”œâ”€â”€ mapStore.ts      # åœ°å›¾çŠ¶æ€
â”‚   â”œâ”€â”€ timelineStore.ts # æ—¶é—´è½´çŠ¶æ€
â”‚   â””â”€â”€ index.ts         # ç»Ÿä¸€å¯¼å‡º
â”‚
â”œâ”€â”€ styles/          # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ app.css     # åº”ç”¨ä¸»æ ·å¼
â”‚   â”œâ”€â”€ ui.css      # UI æ ·å¼å˜é‡
â”‚   â””â”€â”€ index.ts    # æ ·å¼ç»Ÿä¸€å¯¼å‡º
â”‚
â”œâ”€â”€ types/          # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ index.d.ts  # å…¨å±€ç±»å‹å£°æ˜
â”‚   â”œâ”€â”€ models.ts   # æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ schemas.ts  # Schema å®šä¹‰
â”‚
â”œâ”€â”€ App.tsx         # åº”ç”¨æ ¹ç»„ä»¶
â”œâ”€â”€ main.tsx        # åº”ç”¨å…¥å£
â””â”€â”€ index.css       # å…¨å±€åŸºç¡€æ ·å¼
```

## ğŸ¯ è®¾è®¡åŸåˆ™

### 1. **æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡** (`features/`)
- æ¯ä¸ªåŠŸèƒ½æ¨¡å—ç‹¬ç«‹ï¼ŒåŒ…å«è‡ªå·±çš„ç»„ä»¶ã€hooksã€utils å’Œæ ·å¼
- ä¾¿äºåŠŸèƒ½çš„å¢åˆ å’Œç»´æŠ¤
- ä¾‹å¦‚ï¼š`events/`ã€`map/`ã€`timeline/`

### 2. **å¸ƒå±€ä¸ä¸šåŠ¡åˆ†ç¦»** (`layouts/`)
- é¡µé¢çº§å¸ƒå±€ç»„ä»¶å•ç‹¬å­˜æ”¾
- åŒ…æ‹¬ï¼šSidebarã€MainContentã€Footer
- ä¸åŒ…å«ä¸šåŠ¡é€»è¾‘ï¼Œåªè´Ÿè´£å¸ƒå±€ç»“æ„

### 3. **çŠ¶æ€ç®¡ç†æ¨¡å—åŒ–** (`store/`)
- æŒ‰åŠŸèƒ½æ‹†åˆ† storeï¼Œé¿å…å•ä¸€å¤§æ–‡ä»¶
- æ¯ä¸ª store èŒè´£å•ä¸€
- é€šè¿‡ `index.ts` ç»Ÿä¸€å¯¼å‡º

### 4. **é€šç”¨ç»„ä»¶å¤ç”¨** (`components/ui/`)
- å­˜æ”¾å¯å¤ç”¨çš„ UI ç»„ä»¶
- ä¸ä¸šåŠ¡é€»è¾‘è§£è€¦
- ä¾‹å¦‚ï¼šYearSettingsPopover

### 5. **æœåŠ¡å±‚æŠ½è±¡** (`services/`)
- æ•°æ®è·å–å’Œä¸šåŠ¡é€»è¾‘å¤„ç†
- ä¸ API å±‚åˆ†ç¦»
- ä¾¿äºæµ‹è¯•å’Œ mock

### 6. **ç±»å‹å®‰å…¨** (`types/`)
- é›†ä¸­ç®¡ç† TypeScript ç±»å‹
- æ•°æ®æ¨¡å‹å’Œ Schema å®šä¹‰
- å…¨å±€ç±»å‹å£°æ˜

## ğŸ“¦ å¯¼å…¥è·¯å¾„è§„èŒƒ

```typescript
// âœ… æ¨èï¼šä½¿ç”¨ç›¸å¯¹è·¯å¾„
import { useEventsStore } from '../../store';
import { YearSettingsPopover } from '../components/ui';

// âœ… æ¨èï¼šä» index ç»Ÿä¸€å¯¼å‡º
import { Sidebar, MainContent, Footer } from './layouts';
import { useDynastyStore, useTimelineStore } from './store';
```

## ğŸ”„ æœªæ¥ä¼˜åŒ–å»ºè®®

1. **è·¯å¾„åˆ«åé…ç½®**
   ```typescript
   // é…ç½® @ åˆ«åæŒ‡å‘ src
   import { useEventsStore } from '@/store';
   import { YearSettingsPopover } from '@/components/ui';
   ```

2. **åŠŸèƒ½æ¨¡å—è¿›ä¸€æ­¥ç»†åŒ–**
   - è€ƒè™‘å°† `features/events/components/` ä¸­çš„ç»„ä»¶æŒ‰èŒè´£å†åˆ†ç±»
   - ä¾‹å¦‚ï¼š`cards/`ã€`filters/`ã€`displays/`

3. **å…±äº« hooks åˆ†ç±»**
   - å½“ hooks å¢å¤šæ—¶ï¼Œå¯æŒ‰åŠŸèƒ½åˆ†ç±»
   - ä¾‹å¦‚ï¼š`hooks/data/`ã€`hooks/ui/`ã€`hooks/utils/`

4. **æ ·å¼æ–¹æ¡ˆç»Ÿä¸€**
   - è€ƒè™‘ä½¿ç”¨ CSS Modules æˆ– styled-components
   - é¿å…å…¨å±€æ ·å¼å†²çª

5. **æµ‹è¯•æ–‡ä»¶ç»„ç»‡**
   - æ¯ä¸ªåŠŸèƒ½æ¨¡å—æ·»åŠ  `__tests__/` ç›®å½•
   - æµ‹è¯•æ–‡ä»¶ä¸æºæ–‡ä»¶æ”¾åœ¨ä¸€èµ·
